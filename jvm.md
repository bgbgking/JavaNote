# JVM

## 程序寄存器（pc register）

### 作用

记住下一条jvm指令的执行地址

### 特点

1.是一块较小的内存空间

2.线程私有：每个线程都有自己的程序寄存器，随线程创建而创建，随线程销毁而销毁

3.不会内存溢出

## 栈（stack）

### 定义

每个线程运行时所需要的内存，称为虚拟机栈

每个栈由多个栈帧组成，对应每次方法调用时所占用的内存

每个线程只能由一个活动帧栈，对应当前正在执行的那个方法

## 本地方法栈（native method stacks）

### 作用

给本地方法的运行提供一个运行空间

## 堆（heap）

通过new关键字创建对象都会使用堆内存

### 特点

线程共享，堆中对象都需要考虑线程安全问题

有垃圾回收机制

### 字符串常量池（stringtable）

jdk1.8版本之后在堆中，以前在方法区中

底层是hashtable

#### 特性

延迟加载：常量池中的字符串只是符号，只有用到的时候才变成对象

不会重复创建字符串对象

字符串**变量**拼接的原理是stringbuilder（1.8），然后用tostring方法返回一个新的字符串

字符串**常量**拼接的原理是编译期优化

可以使用intern方法，主动将串池中还没有的字符串对象放入串池

## 方法区（method area）

### 运行时常量池

